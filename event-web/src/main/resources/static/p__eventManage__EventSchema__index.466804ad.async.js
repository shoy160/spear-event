(self.webpackChunkauthing_event_front=self.webpackChunkauthing_event_front||[]).push([[97],{90119:function(p,W,i){"use strict";i.r(W),i.d(W,{default:function(){return B}});var l=i(22786),c=i.n(l),k=i(46299),h=i.n(k),g=i(20071),u=i(30417),o=i(79454),n=i(7243),r=i(8278),e=i(34422),a=i(36047),t=i(12270),s=i(18560),f=i(33588),d=i(55884);function v(S){return(0,u.request)("/manage/event/".concat(S,"/schema"),{method:"get"})}function y(S,$){return(0,u.request)("/manage/event/".concat(S,"/schema"),{method:"post",data:$,headers:{"Content-Type":"application/json; charset=utf-8"}})}var m=i(17210),R=function($){return v($).then(function(M){var x=M.data;return x==null?void 0:x.schema})},L=function(){var $=(0,u.useParams)(),M=$.eventId,x=(0,o.Z)(R,{defaultParams:[M]}),I=x.data,T=x.mutate,O=(0,o.Z)(y,{manual:!0,onSuccess:function(){return r.ZP.success("\u63D0\u4EA4\u6210\u529F\uFF01")}}),b=O.run,Z=O.loading,E=(0,n.Z)(h()(c()().mark(function C(){return c()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",b(M,I));case 1:case"end":return F.stop()}},C)})));return(0,m.jsxs)(g.Z,{children:[(0,m.jsx)(t.ZP,{value:I,mode:"yaml",width:"100%",height:"460px",theme:"eclipse",className:"rounded",fontSize:14,showPrintMargin:!1,onChange:function(P){return T(P)},name:"schema",editorProps:{$blockScrolling:!0},setOptions:{useWorker:!1}}),(0,m.jsx)(e.ZP,{type:"primary",className:"mt-4",disabled:!I,onClick:E,loading:Z,children:"\u4FDD\u5B58"})]})},B=(0,a.memo)(L)},18560:function(p,W,i){p=i.nmd(p),ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(l,c,k){"use strict";var h=l("../lib/oop"),g=l("./text_highlight_rules").TextHighlightRules,u=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w[^\s:]*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w[^\s:]*?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(o,n,r,e){e=e.replace(/ #.*/,"");var a=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(e)[0].replace(/\S\s*$/,"").length,t=parseInt(/\d+[\s+-]*$/.exec(e));return t?(a+=t-1,this.next="mlString"):this.next="mlStringPre",r.length?(r[0]=this.next,r[1]=a):(r.push(this.next),r.push(a)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)$/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(o,n,r){var e=r[1];return e>=o.length?(this.next="start",r.shift(),r.shift()):(r[1]=o.length-1,this.next=r[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(o,n,r){var e=r[1];return e>=o.length?(this.next="start",r.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};h.inherits(u,g),c.YamlHighlightRules=u}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(l,c,k){"use strict";var h=l("../range").Range,g=function(){};(function(){this.checkOutdent=function(u,o){return/^\s+$/.test(u)?/^\s*\}/.test(o):!1},this.autoOutdent=function(u,o){var n=u.getLine(o),r=n.match(/^(\s*\})/);if(!r)return 0;var e=r[1].length,a=u.findMatchingBracket({row:o,column:e});if(!a||a.row==o)return 0;var t=this.$getIndent(u.getLine(a.row));u.replace(new h(o,0,o,e-1),t)},this.$getIndent=function(u){return u.match(/^\s*/)[0]}}).call(g.prototype),c.MatchingBraceOutdent=g}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(l,c,k){"use strict";var h=l("../../lib/oop"),g=l("./fold_mode").FoldMode,u=l("../../range").Range,o=c.FoldMode=function(){};h.inherits(o,g),function(){this.getFoldWidgetRange=function(n,r,e){var a=this.indentationBlock(n,e);if(a)return a;var t=/\S/,s=n.getLine(e),f=s.search(t);if(!(f==-1||s[f]!="#")){for(var d=s.length,v=n.getLength(),y=e,m=e;++e<v;){s=n.getLine(e);var R=s.search(t);if(R!=-1){if(s[R]!="#")break;m=e}}if(m>y){var L=n.getLine(m).length;return new u(y,d,m,L)}}},this.getFoldWidget=function(n,r,e){var a=n.getLine(e),t=a.search(/\S/),s=n.getLine(e+1),f=n.getLine(e-1),d=f.search(/\S/),v=s.search(/\S/);if(t==-1)return n.foldWidgets[e-1]=d!=-1&&d<v?"start":"","";if(d==-1){if(t==v&&a[t]=="#"&&s[t]=="#")return n.foldWidgets[e-1]="",n.foldWidgets[e+1]="","start"}else if(d==t&&a[t]=="#"&&f[t]=="#"&&n.getLine(e-2).search(/\S/)==-1)return n.foldWidgets[e-1]="start",n.foldWidgets[e+1]="","";return d!=-1&&d<t?n.foldWidgets[e-1]="start":n.foldWidgets[e-1]="",t<v?"start":""}}.call(o.prototype)}),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/worker/worker_client"],function(l,c,k){"use strict";var h=l("../lib/oop"),g=l("./text").Mode,u=l("./yaml_highlight_rules").YamlHighlightRules,o=l("./matching_brace_outdent").MatchingBraceOutdent,n=l("./folding/coffee").FoldMode,r=l("../worker/worker_client").WorkerClient,e=function(){this.HighlightRules=u,this.$outdent=new o,this.foldingRules=new n,this.$behaviour=this.$defaultBehaviour};h.inherits(e,g),function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(a,t,s){var f=this.$getIndent(t);if(a=="start"){var d=t.match(/^.*[\{\(\[]\s*$/);d&&(f+=s)}return f},this.checkOutdent=function(a,t,s){return this.$outdent.checkOutdent(t,s)},this.autoOutdent=function(a,t,s){this.$outdent.autoOutdent(t,s)},this.createWorker=function(a){var t=new r(["ace"],"ace/mode/yaml_worker","YamlWorker");return t.attachToDocument(a.getDocument()),t.on("annotate",function(s){a.setAnnotations(s.data)}),t.on("terminate",function(){a.clearAnnotations()}),t},this.$id="ace/mode/yaml"}.call(e.prototype),c.Mode=e}),function(){ace.require(["ace/mode/yaml"],function(l){p&&(p.exports=l)})}()}}]);
