"use strict";(self.webpackChunkauthing_event_front=self.webpackChunkauthing_event_front||[]).push([[312],{78956:function(te,f,e){e.d(f,{c:function(){return o}});var y=e(30417);function o(C){return(0,y.request)("/manage/client",{params:C})}},12271:function(te,f,e){e.d(f,{Z:function(){return b}});var y=e(48651),o=e.n(y),C=e(22786),i=e.n(C),Z=e(86516),B=e.n(Z),u=e(46299),l=e.n(u),d=e(38046),Y=e.n(d),j=e(36047),v=e(49599),h=e(40466),T=e(82921),x=e(17210),S=["text","delOnOk","placeholder"],J=function(R){var F=R.text,n=R.delOnOk,a=R.placeholder,_=Y()(R,S),K=(0,j.useRef)(null),q=function(){var N=l()(i()().mark(function V(){var p,U,t,k,ae;return i()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(U=(p=K.current)===null||p===void 0?void 0:p.validateFields(),U){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,(0,T.V)(U);case 5:if(t=A.sent,k=B()(t,1),ae=k[0],!ae){A.next=10;break}return A.abrupt("return");case 10:n==null||n();case 11:case"end":return A.stop()}},V)}));return function(){return N.apply(this,arguments)}}();return(0,x.jsxs)(v.Z,o()(o()({},_),{},{destroyOnClose:!0,okType:"danger",closable:!1,onOk:q,children:[(0,x.jsxs)("div",{className:"my-5",children:["\u8BF7\u8F93\u5165\u4FE1\u606F ",F," \u4EE5\u786E\u8BA4\u60A8\u4E86\u89E3\u6B64\u64CD\u4F5C\u7684\u98CE\u9669"]}),(0,x.jsx)(h.ProForm,{formRef:K,submitter:!1,children:(0,x.jsx)(h.ProFormText,{name:"code",placeholder:a,rules:[{validator:function(V,p){return p!==F?Promise.reject("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u4FE1\u606F\uFF01"):Promise.resolve()}}]})})]}))},b=(0,j.memo)(J)},36837:function(te,f,e){e.r(f),e.d(f,{default:function(){return be}});var y=e(48651),o=e.n(y),C=e(86516),i=e.n(C),Z=e(2972),B=e(16488),u=e(7243),l=e(79454),d=e(8278),Y=e(19976),j=e(34422),v=e(36047),h=e(790),T=e(30417);function x(s){return(0,T.request)("/manage/client/".concat(s),{method:"delete"})}var S=e(78956);function J(s){return(0,T.request)("/manage/client/".concat(s,"/secret"),{method:"put"})}var b=e(12271),Q=e(73355),R=e(17290),F=e(51449),n=9007199254740991,a=Math.floor;function _(s,r){var c="";if(!s||r<1||r>n)return c;do r%2&&(c+=s),r=a(r/2),r&&(s+=s);while(r);return c}var K=_,q=e(13532),N=e(16342),V=e(66448);function p(s,r,c){return(c?(0,q.Z)(s,r,c):r===void 0)?r=1:r=(0,N.Z)(r),K((0,V.Z)(s),r)}var U=p,t=e(17210),k=function(r){var c=r.secret,g=r.hidden,G=g===void 0?" *":g,E=(0,h.x)(!0),z=i()(E,2),P=z[0],W=z[1],H="".concat(String(c).substring(0,5)).concat(U(G,20));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"inline-block w-[260px]",children:P?H:c}),P?(0,t.jsx)(R.Z,{className:"mx-1.5",style:{color:"#1890ff"},onClick:function(){W(!1)}}):(0,t.jsx)(F.Z,{className:"mx-1.5",style:{color:"#1890ff"},onClick:function(){W(!0)}})]})},ae=(0,v.memo)(k),O=e(49214),A=e(22786),fe=e.n(A),he=e(46299),_e=e.n(he),pe=e(38046),ge=e.n(pe),Ee=e(60712),ye=e(99920),Ce=e(36079);function Re(s){return(0,T.request)("/manage/client",{data:s,method:"post"})}function Oe(s,r){return(0,T.request)("/manage/client/".concat(s),{data:r,method:"put"})}var Ae=e(82921),Pe=["actionRef","onCancel","initialValues"],De=function(r){var c=r.actionRef,g=r.onCancel,G=r.initialValues,E=ge()(r,Pe),z=E.title==="\u65B0\u5EFA",P=(0,v.useRef)(),W=function(){var D;d.ZP.success("".concat(E.title,"\u6210\u529F\uFF01")),g(),(D=c.current)===null||D===void 0||D.reload()},H=(0,l.Z)(Re,{manual:!0,onSuccess:W}),X=H.run,ee=(0,l.Z)(Oe,{manual:!0,onSuccess:W}),se=ee.run,ne=(0,u.Z)(_e()(fe()().mark(function w(){var D,oe,ue,ce,re,me,le,ie;return fe()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(ue=(D=P.current)===null||D===void 0||(oe=D.validateFieldsReturnFormatValue)===null||oe===void 0?void 0:oe.call(D),ue){I.next=3;break}return I.abrupt("return");case 3:return I.next=5,(0,Ae.V)(ue);case 5:if(ce=I.sent,re=i()(ce,2),me=re[0],le=re[1],!(me||!le)){I.next=11;break}return I.abrupt("return");case 11:ie=(0,Ce.Z)(le),z?X(ie):se(G.id,ie);case 13:case"end":return I.stop()}},w)})));return(0,t.jsx)(Ee.Y,o()(o()({},E),{},{formRef:P,layout:"horizontal",labelCol:{span:5},initialValues:G,modalProps:{destroyOnClose:!0,onCancel:g},width:600,onFinish:ne,children:(0,t.jsx)(ye.Z,{name:"name",label:"\u540D\u79F0",rules:[{required:!0}]})}))},Ie=(0,v.memo)(De),Me=e(5507),je=e(98842),Te=e(21230);function xe(s,r){return(0,T.request)("/manage/client/".concat(s,"/status"),{params:r,method:"put"})}var Fe=function(r){var c=r.id,g=r.checked,G=(0,je.Z)(g),E=i()(G,2),z=E[0],P=E[1],W=P.set,H=P.toggle;(0,Te.Z)(function(){W(g)},[g]);var X=(0,l.Z)(xe,{manual:!0,onSuccess:function(){H(),d.ZP.success("\u66F4\u6539\u6210\u529F\uFF01")}}),ee=X.run,se=X.loading,ne=(0,u.Z)(function(w){ee(c,{status:w?"Enabled":"Disabled"})});return(0,t.jsx)(Me.Z,{loading:se,checked:z,onClick:ne},"isAppOn")},Ze=(0,v.memo)(Fe),Be=(0,O.G)(S.c),Se=function(){var r=(0,v.useRef)(null),c=(0,h.x)({open:!1,title:""}),g=i()(c,2),G=g[0],E=g[1],z=(0,h.x)({}),P=i()(z,2),W=P[0],H=P[1],X=(0,h.x)({open:!1,text:""}),ee=i()(X,2),se=ee[0],ne=ee[1],w=(0,h.x)(0),D=i()(w,2),oe=D[0],ue=D[1],ce=(0,u.Z)(function(){E(function(M){M.open=!1}),H({})}),re=(0,u.Z)(function(){ne(function(M){M.open=!1})}),me=(0,l.Z)(J,{manual:!0,onSuccess:function(){var m;d.ZP.success("\u5237\u65B0\u6210\u529F\uFF01"),(m=r.current)===null||m===void 0||m.reload()},onError:function(){d.ZP.error("\u5237\u65B0\u5931\u8D25\uFF01")}}),le=me.run,ie=(0,l.Z)(x,{manual:!0,onSuccess:function(){var m;d.ZP.success("\u5220\u9664\u6210\u529F\uFF01"),re(),(m=r.current)===null||m===void 0||m.reload()}}),ve=ie.run,I=function(){ve(oe)},Ue=[{title:"ID",dataIndex:"id",copyable:!0,ellipsis:!0,search:!1},{title:"\u540D\u79F0",dataIndex:"name",copyable:!1,ellipsis:!0},{title:"\u79D8\u94A5",dataIndex:"secret",valueType:"password",search:!1,width:340,fieldProps:{},render:function(m,$){var de=$.id,L=$.secret;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ae,{secret:L}),(0,t.jsx)(Y.Z,{title:"\u6CE8\u610F\uFF01\u5237\u65B0\u540E\u79D8\u94A5\u5C06\u6539\u53D8\u4E14\u4E0D\u53EF\u9000\u56DE",okText:"\u5237\u65B0",cancelText:"\u53D6\u6D88",onConfirm:function(){return le(de)},children:(0,t.jsx)(Z.Z,{style:{color:"#1890ff",marginLeft:6}})},"delete")]})}},{title:"\u72B6\u6001",dataIndex:"status",ellipsis:!0,search:!1,width:100,render:function(m,$){var de=$.id,L=$.status;return(0,t.jsx)(Ze,{id:de,checked:L==="Enabled"})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:100,render:function(m,$){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.ZP,{className:"p-1",type:"link",onClick:function(){E(function(L){L.open=!0,L.title="\u7F16\u8F91"}),H($)},children:"\u7F16\u8F91"},"edit"),(0,t.jsx)(j.ZP,{className:"p-1",type:"link",danger:!0,onClick:function(){ne(function(L){L.text=$.name,L.open=!0}),ue($.id)},children:"\u5220\u9664"})]})}}],We=(0,u.Z)(function(){return[(0,t.jsx)(j.ZP,{type:"primary",onClick:function(){E(function(m){m.open=!0,m.title="\u65B0\u5EFA"})},children:"\u65B0\u5EFA"},"add")]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B.Z,{columns:Ue,actionRef:r,request:Be,rowKey:"id",search:Q.mo,pagination:Q.Xg,headerTitle:"\u5BA2\u6237\u7AEF\u5217\u8868",toolBarRender:We}),(0,t.jsx)(Ie,o()(o()({},G),{},{actionRef:r,onCancel:ce,initialValues:W})),(0,t.jsx)(b.Z,o()(o()({},se),{},{onCancel:re,delOnOk:I,title:"\u5220\u9664\u4E8B\u4EF6",placeholder:"\u8BF7\u8F93\u5165\u5BA2\u6237\u7AEF\u540D\u79F0"}))]})},be=(0,v.memo)(Se)},49214:function(te,f,e){e.d(f,{G:function(){return h}});var y=e(22786),o=e.n(y),C=e(86516),i=e.n(C),Z=e(48651),B=e.n(Z),u=e(38046),l=e.n(u),d=e(46299),Y=e.n(d),j=e(82921),v=["current","pageSize"],h=function(x){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=S.apiOp,b=S.originResFn;return function(){var Q=Y()(o()().mark(function R(F){var n,a,_,K,q,N,V,p,U,t,k;return o()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return n=F.current,a=F.pageSize,_=l()(F,v),K=B()({page:n,size:a},_),O.next=4,(0,j.V)(x(K,J));case 4:if(q=O.sent,N=i()(q,2),V=N[0],p=N[1],!(V||!p)){O.next=10;break}return O.abrupt("return",{data:[],success:!1});case 10:return b==null||b(p,K),U=p.data,t=U.list,k=U.total,O.abrupt("return",{data:t,success:!0,total:k});case 14:case"end":return O.stop()}},R)}));return function(R){return Q.apply(this,arguments)}}()}},13532:function(te,f,e){var y=e(77716),o=e(54353),C=e(72668),i=e(28306);function Z(B,u,l){if(!(0,i.Z)(l))return!1;var d=typeof u;return(d=="number"?(0,o.Z)(l)&&(0,C.Z)(u,l.length):d=="string"&&u in l)?(0,y.Z)(l[u],B):!1}f.Z=Z},16342:function(te,f,e){e.d(f,{Z:function(){return F}});var y=/\s/;function o(n){for(var a=n.length;a--&&y.test(n.charAt(a)););return a}var C=o,i=/^\s+/;function Z(n){return n&&n.slice(0,C(n)+1).replace(i,"")}var B=Z,u=e(28306),l=e(70206),d=0/0,Y=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,v=/^0o[0-7]+$/i,h=parseInt;function T(n){if(typeof n=="number")return n;if((0,l.Z)(n))return d;if((0,u.Z)(n)){var a=typeof n.valueOf=="function"?n.valueOf():n;n=(0,u.Z)(a)?a+"":a}if(typeof n!="string")return n===0?n:+n;n=B(n);var _=j.test(n);return _||v.test(n)?h(n.slice(2),_?2:8):Y.test(n)?d:+n}var x=T,S=1/0,J=17976931348623157e292;function b(n){if(!n)return n===0?n:0;if(n=x(n),n===S||n===-S){var a=n<0?-1:1;return a*J}return n===n?n:0}var Q=b;function R(n){var a=Q(n),_=a%1;return a===a?_?a-_:a:0}var F=R}}]);
