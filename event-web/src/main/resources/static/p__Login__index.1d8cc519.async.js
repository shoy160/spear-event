"use strict";(self.webpackChunkauthing_event_front=self.webpackChunkauthing_event_front||[]).push([[739],{91792:function(q,w,t){t.r(w),t.d(w,{default:function(){return v}});var U=t(22786),c=t.n(U),$=t(86516),C=t.n($),a=t(46299),g=t.n(a),d=t(48651),D=t.n(d),I=t(30417),A=t(82083),X=t(38919),N=t(78419),o=t(73355),M=t(71866),z=t(77308),R=t(82921),W=t(17210),T=["/","/GlobalError/:errState"],O=function(){var m,n=(m=sessionStorage.getItem(o.Yh.pathName))!==null&&m!==void 0?m:o.a0;return T.some(function(e){return!!(0,I.matchPath)(e,n)})?o.a0:n},P=function(){var m;(0,A.Z)("\u767B\u5F55\u4E2D");var n=(0,I.useModel)("@@initialState"),e=n.initialState,s=n.setInitialState,i=n.refresh,p=e!=null?e:{},l=p.authing,H=(0,I.useLocation)(),Y=H.state,J=(m=Y)!==null&&m!==void 0?m:{},Q=J.isToAuth,Z=(0,I.useNavigate)(),B=function(S){history.replaceState(null,"","/"),Z(S,{replace:!0})},K=function(S,u){var x=u.name,b=u.photo;return void s(function(E){return D()(D()({},E),{},{name:x||"\u672A\u8BBE\u7F6E\u59D3\u540D",avatar:b,authing:S})})},F=function(){var G=g()(c()().mark(function S(u){var x,b,E,h,f,L,V,r,k;return c()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,R.V)(u.handleRedirectCallback());case 2:if(x=y.sent,b=C()(x,2),E=b[0],h=b[1],f=h==null?void 0:h.accessToken,!(E||!f)){y.next=10;break}return sessionStorage.removeItem(o.Yh.accessToken),y.abrupt("return",B("/GlobalError/".concat(M.ErrStateEnum.loginErr)));case 10:return sessionStorage.setItem(o.Yh.accessToken,f),y.next=13,(0,z.bG)(u);case 13:if(L=y.sent,V=C()(L,2),r=V[0],k=V[1],!r){y.next=19;break}return y.abrupt("return",B("/GlobalError/".concat(M.ErrStateEnum.userErr)));case 19:history.replaceState(null,"","/"),K(u,k),B(O());case 22:case"end":return y.stop()}},S)}));return function(u){return G.apply(this,arguments)}}();return(0,X.Z)(g()(c()().mark(function G(){var S,u,x,b,E,h,f,L;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(l){r.next=2;break}return r.abrupt("return",i());case 2:if(!Q){r.next=4;break}return r.abrupt("return",l.loginWithRedirect());case 4:if(!l.isRedirectCallback()){r.next=6;break}return r.abrupt("return",F(l));case 6:return r.next=8,(0,z.iT)(l);case 8:if(S=r.sent,u=C()(S,2),x=u[0],b=u[1],!x){r.next=14;break}return r.abrupt("return",l.loginWithRedirect());case 14:return sessionStorage.setItem(o.Yh.accessToken,b.accessToken),r.next=17,(0,z.bG)(l);case 17:if(E=r.sent,h=C()(E,2),f=h[0],L=h[1],!f){r.next=23;break}return r.abrupt("return",l.loginWithRedirect());case 23:K(l,L),Z(O(),{replace:!0});case 25:case"end":return r.stop()}},G)})),[l]),(0,W.jsx)("div",{className:"w-screen h-screen flex justify-center items-center",children:(0,W.jsx)(N.Z,{tip:"Loading...",size:"large"})})},v=P},78419:function(q,w,t){t.d(w,{Z:function(){return m}});var U=t(68591),c=t.n(U),$=t(63145),C=t(98196),a=t(36047),g=t(86491),d=t(72747),D=t(19609),I=t(18680),A=t(621),X=t(86778);const N=new D.Keyframes("antSpinMove",{to:{opacity:1}}),o=new D.Keyframes("antRotate",{to:{transform:"rotate(405deg)"}}),M=n=>({[`${n.componentCls}`]:Object.assign(Object.assign({},(0,X.Wf)(n)),{position:"absolute",display:"none",color:n.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.spinDotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.spinDotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.spinDotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.spinDotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none",["&::after"]:{opacity:.4,pointerEvents:"auto"}}},["&-tip"]:{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.spinDotSize-n.marginXXS/2)/2,height:(n.spinDotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:N,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:o,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeSM,i:{width:(n.spinDotSizeSM-n.marginXXS/2)/2,height:(n.spinDotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeLG,i:{width:(n.spinDotSizeLG-n.marginXXS)/2,height:(n.spinDotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})});var z=(0,I.Z)("Spin",n=>{const e=(0,A.TS)(n,{spinDotDefault:n.colorTextDescription,spinDotSize:n.controlHeightLG/2,spinDotSizeSM:n.controlHeightLG*.35,spinDotSizeLG:n.controlHeight});return[M(e)]},{contentHeight:400}),R=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,i=Object.getOwnPropertySymbols(n);p<i.length;p++)e.indexOf(i[p])<0&&Object.prototype.propertyIsEnumerable.call(n,i[p])&&(s[i[p]]=n[i[p]]);return s};const W=null;let T=null;function O(n,e){const{indicator:s}=e,i=`${n}-dot`;return s===null?null:(0,d.l$)(s)?(0,d.Tm)(s,{className:c()(s.props.className,i)}):(0,d.l$)(T)?(0,d.Tm)(T,{className:c()(T.props.className,i)}):a.createElement("span",{className:c()(i,`${n}-dot-spin`)},a.createElement("i",{className:`${n}-dot-item`}),a.createElement("i",{className:`${n}-dot-item`}),a.createElement("i",{className:`${n}-dot-item`}),a.createElement("i",{className:`${n}-dot-item`}))}function P(n,e){return!!n&&!!e&&!isNaN(Number(e))}const v=n=>{const{spinPrefixCls:e,spinning:s=!0,delay:i=0,className:p,rootClassName:l,size:H="default",tip:Y,wrapperClassName:J,style:Q,children:Z,hashId:B}=n,K=R(n,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[F,G]=a.useState(()=>s&&!P(s,i));a.useEffect(()=>{if(s){const f=(0,$.D)(i,()=>{G(!0)});return f(),()=>{var L;(L=f==null?void 0:f.cancel)===null||L===void 0||L.call(f)}}G(!1)},[i,s]);const S=a.useMemo(()=>typeof Z!="undefined",[Z]),{direction:u}=a.useContext(g.E_),x=c()(e,{[`${e}-sm`]:H==="small",[`${e}-lg`]:H==="large",[`${e}-spinning`]:F,[`${e}-show-text`]:!!Y,[`${e}-rtl`]:u==="rtl"},p,l,B),b=c()(`${e}-container`,{[`${e}-blur`]:F}),E=(0,C.Z)(K,["indicator","prefixCls"]),h=a.createElement("div",Object.assign({},E,{style:Q,className:x,"aria-live":"polite","aria-busy":F}),O(e,n),Y?a.createElement("div",{className:`${e}-text`},Y):null);return S?a.createElement("div",Object.assign({},E,{className:c()(`${e}-nested-loading`,J,B)}),F&&a.createElement("div",{key:"loading"},h),a.createElement("div",{className:b,key:"container"},Z)):h},j=n=>{const{prefixCls:e}=n,{getPrefixCls:s}=a.useContext(g.E_),i=s("spin",e),[p,l]=z(i),H=Object.assign(Object.assign({},n),{spinPrefixCls:i,hashId:l});return p(a.createElement(v,Object.assign({},H)))};j.setDefaultIndicator=n=>{T=n};var m=j},63145:function(q,w,t){t.d(w,{D:function(){return c}});function U($,C,a){var g=a||{},d=g.noTrailing,D=d===void 0?!1:d,I=g.noLeading,A=I===void 0?!1:I,X=g.debounceMode,N=X===void 0?void 0:X,o,M=!1,z=0;function R(){o&&clearTimeout(o)}function W(O){var P=O||{},v=P.upcomingOnly,j=v===void 0?!1:v;R(),M=!j}function T(){for(var O=arguments.length,P=new Array(O),v=0;v<O;v++)P[v]=arguments[v];var j=this,m=Date.now()-z;if(M)return;function n(){z=Date.now(),C.apply(j,P)}function e(){o=void 0}!A&&N&&!o&&n(),R(),N===void 0&&m>$?A?(z=Date.now(),D||(o=setTimeout(N?e:n,$))):n():D!==!0&&(o=setTimeout(N?e:n,N===void 0?$-m:$))}return T.cancel=W,T}function c($,C,a){var g=a||{},d=g.atBegin,D=d===void 0?!1:d;return U($,C,{debounceMode:D!==!1})}}}]);
